<html>
    <head>
        <link rel="stylesheet" href="contactForm.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/weather-icons/2.0.10/css/weather-icons.min.css">

        <title>Contact Form</title>
    </head>
    <body>
        <div class="weather-glass">
            <h1>Weather Today</h1>
            <div class="weather-icons">
                
                <i class="wi wi-day-sunny"></i>       <!-- Sun -->
                <i class="wi wi-cloudy"></i>          <!-- Cloudy -->
                <i class="wi wi-rain"></i>            <!-- Rainy -->
                <i class="wi wi-day-cloudy"></i>      <!-- Partly cloudy -->
            </div>   
        </div>
        <button id="checkWeather" onclick="checkWeather()">Check Weather</button>
        <div class="container">
            <form class="contactCard" method="POST" autocomplete="off" name="contactForm">
            <h3>Contact Us</h3>
            <input type="text" id="name" placeholder="Your Name" name="name" required>
            <input type="email" id="email" placeholder="Your Email" name="email" required>
            <button id="submit">Submit</button>    
        </form>
        </div>
        
        <script>
                const scriptURL = 'https://script.google.com/macros/s/AKfycbyln3iD_QZmr5gaycoOhvJfShcVMGTB4O49C_WsW-wTD8udieeCwBon5nfdQuHponnyQQ/exec'
                const form = document.forms['contactForm']
            
                form.addEventListener('submit', e => {
                e.preventDefault()
                fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                    .then(response => alert("Thanks for Contacting us..! We Will Contact You Soon..."))
                    .catch(error => console.error('Error!', error.message))
                })

                function checkWeather() {
                    const weatherGlass = document.querySelector('.weather-glass');
                    // weatherGlass.style.display = 'block';
                    
                    fetch('https://api.openweathermap.org/data/2.5/weather?q=Delhi&appid=5df3ecbd4ba69dd38155557d8620c6c4')
                        .then(response => response.json())
                        .then(data => {
                           
                            const weatherInfo = `Temperature: ${(data.main.temp-273).toFixed(2)}Â°C, Condition: ${data.weather[0].description}`;
                            weatherGlass.innerHTML = `<h1>${weatherInfo}</h1>`;
                        })
                        .catch(error => {
                            console.error('Error fetching weather data:', error);
                            weatherGlass.innerHTML = '<h1>Error fetching weather data</h1>';
                        });
                }
            </script>
    </body>
        
</html>